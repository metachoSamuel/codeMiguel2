<div class="lista">
  <form (ngSubmit)="consultarAsistencia(1)" [formGroup]="ListaAsistencias">
    <br>
    <div class="botenesasistencia">
        <h2 style="margin-left: 40%;">Lista Asistencias</h2>
      <button type="submit" style="margin-left: 25%">
        Mostrar Asistencias
      </button>
      <button (click)="LimpiarLista()" style="margin-left: 30px">
        Limpiar
      </button>
    </div>

    <br />
    <table>
      <thead>
        <th>{{ TablaAsistencia[0] }}</th>
        <th>{{ TablaAsistencia[1] }}</th>
        <th>{{ TablaAsistencia[2] }}</th>
        <th>{{ TablaAsistencia[3] }}</th>
        <th>{{ TablaAsistencia[4] }}</th>
        <th>{{ TablaAsistencia[5] }}</th>
      </thead>
      <tbody>
        <tr *ngFor="let asistencia of Asistencias">
          <th>{{ asistencia.id_asistencia }}</th>
          <th>{{ asistencia.fecha }}</th>
          <th *ngIf="asistencia.estado == 0">Asistio</th>
          <th *ngIf="asistencia.estado == 1">No Asistio</th>
          <th>{{ asistencia.observaciones }}</th>
          <th>{{ asistencia.apellido_1 }} {{ asistencia.nombre_1 }}</th>
          <th>{{ asistencia.nombre_materia }}</th>
        </tr>
      </tbody>
    </table>
  </form>
</div>
<br><br>

<!-- para mostrar el un solo Tipo de Documento -->
<div class="buscar">
  <h2 style="margin-left: 30%;">Mostramos la Asistencia seleccionada:</h2>

  <form (ngSubmit)="buscarAsistencia()" [formGroup]="filtrarAsistencia"style='margin-left: 25%;'>
    Seleccione estudiante
    <select
      class="dropdown"
      formControlName="combofiltro"
      (click)="consultarAsistencia(2)"
    >
      <option value="value1">Asistencia a buscar</option>
      <option
        *ngFor="let asistencia of comboListaAsistencia"
        [value]="asistencia.id_asistencia"
      >
        {{ asistencia.id_asistencia }} - {{ asistencia.nombre_1 }}
        {{ asistencia.apellido_1 }}
        {{ asistencia.nombre_materia }}
      </option>
    </select>

    <br /><br />

    <button type="submit" style="margin-right: 30px">Buscar Asistencias</button>
    <button (click)="LimpiarLista()" style="margin-right: 30px">Limpiar</button>
  </form>

  <h2 style="margin-left: 10%;">{{ TituloAsistencia }}</h2>

  <table class="tabBuscar">
    <thead class="Colb">
      <th class="b">{{ TabBusAsistencia[0] }}</th>
      <th class="b">{{ TabBusAsistencia[1] }}</th>
      <th class="b">{{ TabBusAsistencia[2] }}</th>
      <th class="b">{{ TabBusAsistencia[3] }}</th>
      <th class="b">{{ TabBusAsistencia[4] }}</th>
      <th class="b">{{ TabBusAsistencia[5] }}</th>
    </thead>

    <tbody class="Filb">
      <tr class="b" *ngFor="let asistencia of MiAsistencia">
        <th>{{ asistencia.id_asistencia }}</th>
        <th>{{ asistencia.fecha }}</th>
        <th *ngIf="asistencia.estado == 1">Asistio</th>
        <th *ngIf="asistencia.estado == 0">No Asistio</th>
        <th>{{ asistencia.observaciones }}</th>
        <th>{{ asistencia.apellido_1 }} {{ asistencia.nombre_1 }}</th>
        <th>{{ asistencia.nombre_materia }}</th>
      </tr>
    </tbody>
  </table>
</div>

<br><br>
<div class="ingresarasistencia" >
  <br>
  <button (click)="mostrarHtml(1)" class="btn btn-dark" style="margin-left: 37%;">
    Ingresar Asistencia
  </button>
  <div class="container-fluid"style="margin-left: 37%;">
    <br />
    <form *ngIf="mostrarCrear" [formGroup]="formularioCrear">
      <label for="">Ingrese</label>
      <input type="date" formControlName="fecha" />
      <br />
      <label for="">Observaciones</label>
      <input type="text" formControlName="observaciones" />
      <br />
      <label for="">Persona</label>
      <select
        class="dropdown"
        formControlName="id_persona"
        (click)="obtenerPersonas()"
      >
        <option value="value1">Id a buscar</option>
        <option
          *ngFor="let persona of listaPersonas"
          [value]="persona.id_persona"
        >
          {{ persona.id_persona }} -
          {{ persona.apellido_1 }}
          {{ persona.nombre_1 }}
        </option>
      </select>
      <br />
      <label for="">Estado</label>
      <input type="text" formControlName="estado" />
      <br />
      <label for="">Materia</label>
      <select
        class="dropdown"
        formControlName="id_materia"
        (click)="obtenerMaterias()"
      >
        <option value="value1">Id a buscar</option>
        <option
          *ngFor="let materia of listaMaterias"
          [value]="materia.id_materia"
        >
          {{ materia.id_materia }} -
          {{ materia.nombre_materia }}
        </option>
      </select>
      <br /><br />
      <button (click)="crearAsistencia()" class="btn btn-danger">Subir</button>
      <br /><br />
      <button (click)="mostrarHtml(1)" class="btn btn-dark">Ocultar</button>
      <br /><br />
    </form>
  </div>
</div>
<br><br>

<div class="actualizarasistencia">
  <br>
  <button (click)="mostrarHtml(2)" class="btn btn-dark" style="margin-left: 37%;">
    Actualizar Asistencia
  </button>
  <div class="container-fluid">
    <br />
    <form *ngIf="mostrarActualizar" [formGroup]="formularioActualizar"style="margin-left: 20%;">
      id de la
      <select
        class="dropdown"
        formControlName="id_asistencia"
        (click)="consultarAsistencia(2)"
      >
        <option value="value1">Id a buscar</option>
        <option
          *ngFor="let asistencia of comboListaAsistencia"
          [value]="asistencia.id_asistencia"
        >
          {{ asistencia.id_asistencia }} -
          {{ asistencia.apellido_1 }}
          {{ asistencia.nombre_1 }}
        </option>
      </select>
      <label for="">Ingrese</label>
      <input type="date" formControlName="fecha" />
      <br />
      <label for="">Observaciones</label>
      <input type="text" formControlName="observaciones" />
      <br />
      <label for="">Persona</label>
      <select
        class="dropdown"
        formControlName="id_persona"
        (click)="obtenerPersonas()"
      >
        <option value="value1">Id a buscar</option>
        <option
          *ngFor="let persona of listaPersonas"
          [value]="persona.id_persona"
        >
          {{ persona.id_persona }} -
          {{ persona.apellido_1 }}
          {{ persona.nombre_1 }}
        </option>
      </select>
      <br />
      <label for="">Estado</label>
      <input type="text" formControlName="estado" />
      <br />
      <label for="">Materia</label>
      <select
        class="dropdown"
        formControlName="id_materia"
        (click)="obtenerMaterias()"
      >
        <option value="value1">Id a buscar</option>
        <option
          *ngFor="let materia of listaMaterias"
          [value]="materia.id_materia"
        >
          {{ materia.id_materia }} -
          {{ materia.nombre_materia }}
        </option>
      </select>
      <br /> <br>
      <button
        [disabled]="formularioActualizar.invalid"
        (click)="actualizarAsistencia()"
        class="btn btn-danger"
      >
        Subir
      </button>
      <br /><br />
      <button (click)="mostrarHtml(2)" class="btn btn-dark">Ocultar</button>
      <br /><br />
    </form>
  </div>
</div>


